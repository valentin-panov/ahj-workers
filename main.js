(()=>{var t={670:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},318:(t,e,r)=>{var n=r(656),o=r(466),i=r(400),s=function(t){return function(e,r,s){var a,c=n(e),u=o(c.length),l=i(s,u);if(t&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},920:(t,e,r)=>{var n=r(871),o=r(887),i=r(236),s=r(70);t.exports=function(t,e){for(var r=o(e),a=s.f,c=i.f,u=0;u<r.length;u++){var l=r[u];n(t,l)||a(t,l,c(e,l))}}},880:(t,e,r)=>{var n=r(781),o=r(70),i=r(114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},781:(t,e,r)=>{var n=r(293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(854),o=r(111),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},109:(t,e,r)=>{var n=r(854),o=r(236).f,i=r(880),s=r(320),a=r(505),c=r(920),u=r(705);t.exports=function(t,e){var r,l,p,f,d,v=t.target,h=t.global,g=t.stat;if(r=h?n:g?n[v]||a(v,{}):(n[v]||{}).prototype)for(l in e){if(f=e[l],p=t.noTargetGet?(d=o(r,l))&&d.value:r[l],!u(h?l:v+(g?".":"#")+l,t.forced)&&void 0!==p){if(typeof f==typeof p)continue;c(f,p)}(t.sham||p&&p.sham)&&i(f,"sham",!0),s(r,l,f,t)}}},293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},5:(t,e,r)=>{var n=r(857),o=r(854),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t])||i(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},871:(t,e,r)=>{var n=r(908),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(n(t),e)}},501:t=>{t.exports={}},664:(t,e,r)=>{var n=r(781),o=r(293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},361:(t,e,r)=>{var n=r(293),o=r(326),i="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},788:(t,e,r)=>{var n=r(465),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},909:(t,e,r)=>{var n,o,i,s=r(536),a=r(854),c=r(111),u=r(880),l=r(871),p=r(465),f=r(200),d=r(501),v="Object already initialized",h=a.WeakMap;if(s||p.state){var g=p.state||(p.state=new h),y=g.get,b=g.has,m=g.set;n=function(t,e){if(b.call(g,t))throw new TypeError(v);return e.facade=t,m.call(g,t,e),e},o=function(t){return y.call(g,t)||{}},i=function(t){return b.call(g,t)}}else{var x=f("state");d[x]=!0,n=function(t,e){if(l(t,x))throw new TypeError(v);return e.facade=t,u(t,x,e),e},o=function(t){return l(t,x)?t[x]:{}},i=function(t){return l(t,x)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},705:(t,e,r)=>{var n=r(293),o=/#|\.prototype\./,i=function(t,e){var r=a[s(t)];return r==u||r!=c&&("function"==typeof e?n(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},913:t=>{t.exports=!1},536:(t,e,r)=>{var n=r(854),o=r(788),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},70:(t,e,r)=>{var n=r(781),o=r(664),i=r(670),s=r(593),a=Object.defineProperty;e.f=n?a:function(t,e,r){if(i(t),e=s(e,!0),i(r),o)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},236:(t,e,r)=>{var n=r(781),o=r(296),i=r(114),s=r(656),a=r(593),c=r(871),u=r(664),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},6:(t,e,r)=>{var n=r(324),o=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},181:(t,e)=>{e.f=Object.getOwnPropertySymbols},324:(t,e,r)=>{var n=r(871),o=r(656),i=r(318).indexOf,s=r(501);t.exports=function(t,e){var r,a=o(t),c=0,u=[];for(r in a)!n(s,r)&&n(a,r)&&u.push(r);for(;e.length>c;)n(a,r=e[c++])&&(~i(u,r)||u.push(r));return u}},296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},887:(t,e,r)=>{var n=r(5),o=r(6),i=r(181),s=r(670);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=i.f;return r?e.concat(r(t)):e}},857:(t,e,r)=>{var n=r(854);t.exports=n},320:(t,e,r)=>{var n=r(854),o=r(880),i=r(871),s=r(505),a=r(788),c=r(909),u=c.get,l=c.enforce,p=String(String).split("String");(t.exports=function(t,e,r,a){var c,u=!!a&&!!a.unsafe,f=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||i(r,"name")||o(r,"name",e),(c=l(r)).source||(c.source=p.join("string"==typeof e?e:""))),t!==n?(u?!d&&t[e]&&(f=!0):delete t[e],f?t[e]=r:o(t,e,r)):f?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},505:(t,e,r)=>{var n=r(854),o=r(880);t.exports=function(t,e){try{o(n,t,e)}catch(r){n[t]=e}return e}},200:(t,e,r)=>{var n=r(309),o=r(711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},465:(t,e,r)=>{var n=r(854),o=r(505),i="__core-js_shared__",s=n[i]||o(i,{});t.exports=s},309:(t,e,r)=>{var n=r(913),o=r(465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},400:(t,e,r)=>{var n=r(958),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},656:(t,e,r)=>{var n=r(361),o=r(488);t.exports=function(t){return n(o(t))}},958:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},466:(t,e,r)=>{var n=r(958),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},908:(t,e,r)=>{var n=r(488);t.exports=function(t){return Object(n(t))}},593:(t,e,r)=>{var n=r(111);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},711:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},817:(t,e,r)=>{"use strict";var n=r(109),o=r(781),i=r(854),s=r(871),a=r(111),c=r(70).f,u=r(920),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var p={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new l(t):void 0===t?l():l(t);return""===t&&(p[e]=!0),e};u(f,l);var d=f.prototype=l.prototype;d.constructor=f;var v=d.toString,h="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=v.call(t);if(s(p,t))return"";var r=h?e.slice(7,-1):e.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";r(817);class t{constructor(){this.idSet=new Set,this.error=null}init(){this.renderContainer(),this.bindToDOM(),this.defaultScreen(),this.addListeners(),this.getData(),this.registerWorker()}registerWorker(){navigator.serviceWorker&&window.addEventListener("load",(async()=>{try{await navigator.serviceWorker.register("./service.worker.js",{scope:"./"}),console.log("service worker registered")}catch(t){console.log("service worker register error: ",t)}}))}renderContainer(){document.body.append(function(){const t=document.createElement("div");return t.classList.add("wrapper"),t.innerHTML='\n  <div class="unit-container">\n    <div class="container__header">\n      <h2 class="widget-header">Новости мира кино</h2>\n      <span class="link">Обновить</span>\n    </div>\n    <ul class="unit-list">\n    </ul>\n    <div class="container__footer">\n    </div>\n  </div>\n    ',t}())}bindToDOM(){this.wrapper=document.querySelector("div.wrapper"),this.refresh=document.querySelector("span.link"),this.unitList=document.querySelector("ul.unit-list"),this.unitContainer=document.querySelector(".unit-container")}defaultScreen(){this.clearList(),this.unitList.prepend(function(){const t=document.createElement("div");for(let e=0;e<3;e+=1)t.innerHTML+='\n  <li class="placeholder-unit">\n    <div class="placeholder-unit__header-block">\n      <span class="placeholder-unit__header-text placeholder-item">&nbsp</span>\n    </div>\n    <div class="placeholder-unit__body">\n      <div class="placeholder-unit__img-block placeholder-item"></div>\n      <div class="placeholder-unit__descr-block">\n        <span class="placeholder-unit__descr-text placeholder-item">&nbsp;</span>\n        <br>\n        <span>&nbsp;</span>\n        <br>\n        <span class="placeholder-unit__descr-text placeholder-item">&nbsp;</span>\n      </div>\n    </div>\n  </li>\n  ';return t}())}addUnit(t){const e=function(t){const{id:e="clear",header:r="&nbsp;",logo:n=""}=t;let{description:o=""}=t,i="",s='\n  <span class="unit__descr-text">&nbsp;</span>\n  <br>\n  <span>&nbsp;</span>\n  <br>\n  <span class="unit__descr-text">&nbsp;</span>\n  ';n&&(i=`<img src="${n}" width="100%" height="100%"></img>`),o&&(o.length>150&&(o=o.substring(0,150),o+="..."),s=`\n    <span class="unit__descr-text">${o}</span>\n    `);const a=document.createElement("li");return a.classList.add("unit"),a.dataset.unitId=e,a.innerHTML=`\n      <div class="unit__header-block">\n        <span class="unit__header-text">${r}</span>\n      </div>\n      <div class="unit__body">\n        <div class="unit__img-block">${i}</div>\n        <div class="unit__descr-block">\n          ${s}\n        </div>\n      </div>\n  `,a}(t);this.unitList.prepend(e)}addListeners(){this.refresh.addEventListener("click",(t=>{t.preventDefault(),this.defaultScreen(),this.getData()}),!1)}clearList(){this.unitList.innerHTML=""}async getData(){try{const t=await fetch("https://vapanov-sw.herokuapp.com/news"),e=await t.json();return"ok"===e.status&&(this.unitContainer.classList.remove("unit-container-offline"),this.clearList(),e.news.forEach((t=>{this.addUnit(t)}))),!0}catch(t){console.error(t)}return this.widgetOffline(),!1}widgetOffline(){[...this.unitList.querySelectorAll(".placeholder-item")].forEach((t=>t.classList.remove("placeholder-item"))),this.unitContainer.classList.add("unit-container-offline")}}(new t).init()})()})();